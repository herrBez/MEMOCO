\documentclass{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{amsfonts}
\usepackage[cm]{fullpage}

\newcommand{\ceiling}[1]{\ensuremath{\left\lceil#1\right\rceil}}
\newcommand{\flooring}[1]{\ensuremath{\left\lfloor#1\right\rfloor}}

\begin{document}
	\section{Project scheduling in the boatyard industry}
	\begin{itemize}
	\item $t_i$ time at which operation $i$ finishes
	\item $z$ the end of everithing
	\item $z \geq t_i \forall i$	
	\item $t_A \geq d_A$
	\item $t_B \geq t_A + d_B$	
	\item $ t_E \geq t_B + d_B$ this constraint should be here only if operation B is executed. You
	introduce new variable $y_B = 1$ if B is executed $0$ otherwise. 
	$t_E \geq t_B + d_E -M(1-y_B)$
	if B is not executed the constraint becomes redundant.
	\item $t_E \geq t_C + d_E$
	\end{itemize}
	\section{A (shift) covering problem}
	(Real problem)
	$i$ = index of pharmacy
	$k$ = index of shift
	We introduce the variable
$y_{i,k} = 1$ if pharmacy i si open in shift k, 0 otherwise
$i \in \mathcal{P}$ $k = 1\dots K $
$j \in C$ set of clients.
$d_{jk}$ distance between $j$ and the shift $k$ (the closest pharmacy opened in shift $k$), it is a variable
this means that we have to find the $d_{jk}$

\begin{itemize}
\item $min \sum_{j \in C}^{} \sum_{k = 1}^{K} d_{jk} $
\end{itemize}
It is a common tecnhique to decompose the problem in smaller one.
In this case we have to determine $d_{jk}$
\begin{itemize}
\item $d_{jk} = y_{ik}$
\end{itemize}
we have a relation that relates $x_{jik} = 1 $ if $j$ goes to $i$ in $k$, $0$ otherwise


$d_{jk} = \sum_{i\in \mathcal{P}} D_{ji} x_{jik}$, where $D_{ji}$ is the constant, just
	one of the $x$s will be equal to one
	
$\sum_{i \in P} x_{jik} = 1 \forall i \in C, \forall k = 1\dots K$ (constraint, it says that
the client must go to just one pharmacy forall shifts.
$x_{ijk} \leq y_{ik}, \forall i,j,k$
With this 2 constraints we say that the client must go only to one of the opened pharamacy.

We have to add the fact that the pharmacy must not be \emph{always} opened, each pharamcy
should be in one shift.

$\sum_{k=1}{K} y_{ik} = 1 \forall i \in P $


The domains are
$$
\begin{array}{l}
	y_{ik} \in \{0,1\} \\
	x_{jik} \in \{0,1\} \\
	d_{jk} \in \mathbb{R} \\ %razionali
\end{array}
$$
We want to balance 
$$
\ceiling{\frac{|P|}{K}} \leq \sum_{i\in P} y_{ik} \leq \frac{|P|}{K} \forall k
$$
\subsection{A comment}
A problem with this model is that there are a lot of symmetric solution due
to the fact that we modelled the problem in this way (using names, since the index
are different you can have). The problem is the index k because it is an artificial
method -> we have only to determine subsets.
\subsection{Alternative}
$P \rightsquigarrow 2^P$ we have to determine the subsets of P that are used in a shift
we determine the subset of pharmacies.
We imagine a shift
$$
x_J  \forall J \in 2^P
$$
$$
x_J = 1 \mbox{ if subset} J \subset P is a shift
0 otherwise 
$$
here we have no symmetries.
We have to minimize
$$
min \sum_{j \in 2^P}\sum_{j \in C} D_{jJ} x_J
$$
in this case D is not a variable, it is a number, because
all the subsets have a minimal distance. We can 
preprocess it.
We must guarantee
$$
\sum_{J \in 2^P} x_J = K
$$
We have to say that:
$$
\sum_{J \in 2^P} A_{iJ} x_J = 1 \forall i \in P
$$
$A_{iJ}$ is a constant/number that takes value $1$ if $i \in J$ $0$ otherwise.


This model is equivalent solution to the first model.
This model has no symmetry is very flexible, BUT
The problem with this model is that it is very difficult (big data)
to implement you have to create an exponential number of parameters/variables
The powerset is $2^{|P|}$.
But we will see methods to manage an exponential number of variables.


\section{27/10}
\section{3/11}
Heuristics methods.
There are two categories:
\begin{itemize}
	\item Exact Methods. Designed to obtain provably optimal solution
	\item Heuristics methods: provides "good" solution with no optimality guarantee.
\end{itemize}
Before applying heuristics methods you have at least to scatch an exact approach (Example:Cisco 
and shortest path problem).
Heuristic methods are defined by some people: quick and dirty.
Quick is a very important characteristics.
Heuristic means find/search a solution. You have to apply it
when the problem is very difficult or when you have a very short time to solve it.

Sometimes you cannot use heuristics, because the nature of the problem,
e.g. an optimal solution is mandatory, because it is in the requirement of the problem

\subsection{Heuristic Methods}
Heuristic methods are a broad class of methods. There is no standard classification,
but one possible is:
\begin{itemize}
	\item Specific Heuristic:
	\item General Heuristic:
\end{itemize}
\begin{itemize}
	\item Constructive Heuristics: Greedy algorithms, you have to choose
	the element that at is moment looks (Miope)
\end{itemize}

\subsection{10/11}
You can have at most :
$$
n (n - p) \leq \left(\frac{n^2}{2}\right)
$$
swap solutions

\subsection{17/11}
Just for continues variables.
Solving a problem has something to do with the geometry of the feasible region a (polyedron in 3d).

Optimal vertex Theorem is the most important
\end{document}
